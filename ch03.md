# 高斯滤波器

### 1. 简介

本章讲解一系列递归状态估计器，统称*高斯滤波器*。  
高斯滤波器是最早的连续贝叶斯滤波器的计算量可实现版本。  

高斯滤波器的思想是所有的置信度都是多元高斯。分布表达式：  
$p(x)=\det (2\pi\Sigma)^{-frac{1}{2}}\exp\{-\frac{1}{2}(x-\mu)^T\Sigma^{-1}(x-\mu)\}$  
这个分布是由前两阶矩来描述的，即均值$\mu\$与方差$\Sigma$。  
$\Sigma$是一个二次、对称、半正定矩阵，维度是状态变量维度的平方。


高斯后验的后果是，高斯是单模型(unimodel)的，也就是有单个最大值；
因此只能用来做tracking，而不适用于全局定位之类的问题。  

高斯有两种表达：矩表达和权威（canonical）表达，功能相同，但算法计算不同。

### 2. 卡尔曼滤波器

#### 2.1 线性高斯系统

卡尔曼滤波器可用于线性系统中的滤波和预测，适用于连续状态，不适用于离散空间。  
使用矩来表达后验：均值$\mu_t$和方差$\Sigma_t$。

需要满足三个条件，后验才是高斯分布：  
1. 状态转移概率$p(x_t|u_t,x_{t-1})$是线性函数加高斯噪声（简称线性高斯），即
    $x_t=A_tx_{t-1}+B_tu_t+\epsilon_t$,   
    其中$x_t, u_t$分别是维度为n和m的列向量，$A_t, B_t$为系数阵，  
    $\epsilon_t$是零均值高斯分布的随机向量，方差记为$R_t$。  
    后验高斯的均值为$A_tx_{t-1}+B_tu_t$，方差为$R_t$。  
2. 测量概率$p(z_t|x_t)$是线性高斯，即$z_t=C_tx_t+\delta_t$；  
    其中$\delta_t$是零均值高斯分布的随机噪声向量，方差为$Q_t$。  
    后验高斯的均值为$C_tx_t$，方差为$Q_t$。
3. 置信概率的初始分布需要是高斯，即均值为$\mu_0$，方差为$\Sigma_0$。

#### 2.2 卡尔曼滤波器算法

**算法 Kalman_filter($\mu_{t-1}, \Sigma_{t-1}, u_t,z_t$)**:   
02····$\hat{\mu}_t=A_t\mu_{t-1}+B_tu_t$  
03····$\hat{\Sigma}_t=A_t\Sigma{t-1}A_t^T+R_t$  
04····$K_t=\hat{\Sigma}_tC_t^T(C_t\hat{\Sigma_t}C_t^T+Q_t)^{-1}$  
05····$\mu_t=\hat{\mu}_t+K_t(z_t-C_t\hat{\mu}_t)$  
06····$\Sigma_t=(I-K_tC_t)\hat{\Sigma}_t$  
07····return $\mu_t,\Sigma_t$  


